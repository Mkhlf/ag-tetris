source tb_game_control.tcl
# set curr_wave [current_wave_config]
# if { [string length $curr_wave] == 0 } {
#   if { [llength [get_objects]] > 0} {
#     add_wave /
#     set_property needs_save false [current_wave_config]
#   } else {
#      send_msg_id Add_Wave-1 WARNING "No top level signals found. Simulator will start without a wave window. If you want to open a wave window go to 'File->New Waveform Configuration' or type 'create_wave_config' in the TCL console."
#   }
# }
# run 1000ns
=== Game Control Testbench ===
Testing game mechanics including HOLD feature

Test 1: Initialization
  PASS: Game not over at start
  PASS: First piece spawned (idx=1)

Test 2: Movement
  PASS: Moved left (x:   3 ->   2)
  PASS: Moved right twice (x:   4)

Test 3: Rotation
  INFO: Rotation state: 0 -> 1

Test 4: Hold Feature - First Hold
  INFO: Hold slot is empty before hold
  PASS: First piece stored in hold (idx=1)

Test 5: Hold Available After New Piece
INFO: [USF-XSim-96] XSim completed. Design snapshot 'tb_game_control_behav' loaded.
INFO: [USF-XSim-97] XSim simulation ran for 1000ns
launch_simulation: Time (s): cpu = 00:00:12 ; elapsed = 00:00:09 . Memory (MB): peak = 8644.832 ; gain = 15.008 ; free physical = 1012901 ; free virtual = 1028180
run all
  PASS: Second hold swaps current and hold pieces

Test 6: Hard Drop & Lock
  PASS: Game continues after drop

Test 7: Ghost Position
  PASS: Ghost Y ( 20) >= Current Y ( 20)

=== Test Summary ===
Passed: 9
Failed: 0
Simulation Finished
$finish called at time : 1405 ns : File "/home/alkhalmr/gtprj/ag-tetris/test/tb_game_control.sv" Line 326